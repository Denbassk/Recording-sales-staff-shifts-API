# –°–∏—Å—Ç–µ–º–∞ —Ñ–∏–∫—Å–∞—Ü–∏–∏ –∞–≤–∞–Ω—Å–æ–≤ - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## –û–±–∑–æ—Ä
–°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ñ–∏–∫—Å–∞—Ü–∏—é –≤—ã–ø–ª–∞—á–µ–Ω–Ω—ã—Ö –∞–≤–∞–Ω—Å–æ–≤ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —É—á–µ—Ç–∞ –ø—Ä–∏ –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω–æ–º —Ä–∞—Å—á–µ—Ç–µ –∑–∞—Ä–ø–ª–∞—Ç—ã.

## –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. –§–∏–∫—Å–∞—Ü–∏—è –∞–≤–∞–Ω—Å–∞
- **–ö–Ω–æ–ø–∫–∞**: "üîí –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∞–≤–∞–Ω—Å" 
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å—É–º–º—ã —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω–æ–≥–æ –∞–≤–∞–Ω—Å–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∫–∞–∫ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–ª–∞—á–µ–Ω–Ω—ã–µ
- **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**: –ü–æ—Å–ª–µ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–π –≤—ã–ø–ª–∞—Ç—ã –∞–≤–∞–Ω—Å–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º (–æ–±—ã—á–Ω–æ 15-16 —á–∏—Å–ª–∞ –º–µ—Å—è—Ü–∞)

### 2. –í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è
- –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–≤–∞–Ω—Å—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å –∏–∫–æ–Ω–∫–æ–π üîí –∏ –∫—Ä–∞—Å–Ω—ã–º —Ü–≤–µ—Ç–æ–º
- –ü–æ—Å–ª–µ —Ñ–∏–∫—Å–∞—Ü–∏–∏ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å —Å –¥–∞–Ω–Ω—ã–º–∏ –æ –≤—ã–ø–ª–∞—Ç–µ
- –ü—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ñ–∏–∫—Å–∞—Ü–∏–∏

### 3. –û—Ç–º–µ–Ω–∞ —Ñ–∏–∫—Å–∞—Ü–∏–∏
- –î–æ—Å—Ç—É–ø–Ω–∞ —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É –≤ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–π –ø–∞–Ω–µ–ª–∏
- –¢—Ä–µ–±—É–µ—Ç —É–∫–∞–∑–∞–Ω–∏—è –ø—Ä–∏—á–∏–Ω—ã –æ—Ç–º–µ–Ω—ã
- –ü–æ—Å–ª–µ –æ—Ç–º–µ–Ω—ã –º–æ–∂–Ω–æ –ø–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å –∏ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∑–∞–Ω–æ–≤–æ

## –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã

### –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –≤—ã–ø–ª–∞—Ç—ã –∞–≤–∞–Ω—Å–∞:

1. **–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–∞ –∑–∞ –º–µ—Å—è—Ü**
   - –í—ã–±—Ä–∞—Ç—å –º–µ—Å—è—Ü –∏ –≥–æ–¥
   - –£–∫–∞–∑–∞—Ç—å –¥–∞—Ç—É —Ä–∞—Å—á–µ—Ç–∞ (–æ–±—ã—á–Ω–æ 15 —á–∏—Å–ª–æ)
   - –ù–∞–∂–∞—Ç—å "–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á–µ—Ç"

2. **–†–∞—Å—á–µ—Ç –∞–≤–∞–Ω—Å–∞**
   - –ù–∞–∂–∞—Ç—å "–†–∞—Å—Å—á–∏—Ç–∞—Ç—å –∞–≤–∞–Ω—Å"
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É–º–º—ã (–Ω–µ –±–æ–ª–µ–µ 7900 –≥—Ä–Ω –Ω–∞ —á–µ–ª–æ–≤–µ–∫–∞)
   - –°–∏—Å—Ç–µ–º–∞ –ø–æ–∫–∞–∂–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ñ–∏–∫—Å–∞—Ü–∏–∏

3. **–§–∏–∫—Å–∞—Ü–∏—è –∞–≤–∞–Ω—Å–∞**
   - –ù–∞–∂–∞—Ç—å "üîí –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∞–≤–∞–Ω—Å"
   - –£–∫–∞–∑–∞—Ç—å –¥–∞—Ç—É —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–π –≤—ã–ø–ª–∞—Ç—ã
   - –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ
   - –ü–æ—Å–ª–µ —Ñ–∏–∫—Å–∞—Ü–∏–∏ —Å—É–º–º—ã —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º–∏

4. **–û–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç**
   - –í –∫–æ–Ω—Ü–µ –º–µ—Å—è—Ü–∞ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "–ò—Ç–æ–≥–æ–≤—ã–π —Ä–∞—Å—á–µ—Ç"
   - –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–≤–∞–Ω—Å—ã
   - –ï—Å–ª–∏ –∞–≤–∞–Ω—Å –Ω–µ –±—ã–ª –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω, —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

## –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ `payroll_payments`
–•—Ä–∞–Ω–∏—Ç –≤—Å–µ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤—ã–ø–ª–∞—Ç—ã:
- `payment_type`: —Ç–∏–ø –≤—ã–ø–ª–∞—Ç—ã (advance/final)
- `payment_date`: –¥–∞—Ç–∞ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–π –≤—ã–ø–ª–∞—Ç—ã
- `calculation_date`: –¥–∞—Ç–∞, –ø–æ –∫–æ—Ç–æ—Ä—É—é –±—ã–ª —Ä–∞—Å—á–µ—Ç
- `amount`: —Å—É–º–º–∞ –≤—ã–ø–ª–∞—Ç—ã
- `is_cancelled`: —Ñ–ª–∞–≥ –æ—Ç–º–µ–Ω—ã

### –ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
- –°–∏—Å—Ç–µ–º–∞ –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –¥–≤–∞ –∞–≤–∞–Ω—Å–∞ –∑–∞ –æ–¥–∏–Ω –º–µ—Å—è—Ü
- –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π —Ñ–∏–∫—Å–∞—Ü–∏–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Å–Ω–∞—á–∞–ª–∞ –æ—Ç–º–µ–Ω–∏—Ç—å –ø—Ä–µ–¥—ã–¥—É—â—É—é

## –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **–§–∏–∫—Å–∞—Ü–∏—è –Ω–µ–æ–±—Ä–∞—Ç–∏–º–∞** (–∫—Ä–æ–º–µ –æ—Ç–º–µ–Ω—ã)
   - –ü–æ—Å–ª–µ —Ñ–∏–∫—Å–∞—Ü–∏–∏ –∏–∑–º–µ–Ω–∏—Ç—å —Å—É–º–º—ã –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –æ—Ç–º–µ–Ω—É
   - –û—Ç–º–µ–Ω–∞ —Ç—Ä–µ–±—É–µ—Ç —É–∫–∞–∑–∞–Ω–∏—è –ø—Ä–∏—á–∏–Ω—ã –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ª–æ–≥–∞—Ö

2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç**
   - –ï—Å–ª–∏ –∞–≤–∞–Ω—Å –Ω–µ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω, —Å–∏—Å—Ç–µ–º–∞ —Ä–∞—Å—Å—á–∏—Ç–∞–µ—Ç –µ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∏—Ç–æ–≥–æ–≤–æ–º —Ä–∞—Å—á–µ—Ç–µ
   - –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ —Ä–∞–Ω—å—à–µ, –µ—Å–ª–∏ —Ñ–∏–∫—Å–∞—Ü–∏—è –Ω–µ –Ω—É–∂–Ω–∞

3. **–ê—É–¥–∏—Ç**
   - –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ñ–∏–∫—Å–∞—Ü–∏–∏ –∏ –æ—Ç–º–µ–Ω—ã –ª–æ–≥–∏—Ä—É—é—Ç—Å—è
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –∏ –≤—Ä–µ–º–µ–Ω–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏

## –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã

**–í: –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç, –µ—Å–ª–∏ –∑–∞–±—ã—Ç—å –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∞–≤–∞–Ω—Å?**
–û: –°–∏—Å—Ç–µ–º–∞ —Ä–∞—Å—Å—á–∏—Ç–∞–µ—Ç –∞–≤–∞–Ω—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ —Å—Ç–∞—Ä–æ–π —Å—Ö–µ–º–µ (90% –æ—Ç –∑–∞—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–≥–æ, –Ω–æ –Ω–µ –±–æ–ª–µ–µ 7900 –≥—Ä–Ω).

**–í: –ú–æ–∂–Ω–æ –ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–≤–∞–Ω—Å?**
–û: –î–∞, –Ω–æ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –æ—Ç–º–µ–Ω—É –∏ –ø–æ–≤—Ç–æ—Ä–Ω—É—é —Ñ–∏–∫—Å–∞—Ü–∏—é —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø—Ä–∏—á–∏–Ω—ã.

**–í: –ö–∞–∫ —É–∑–Ω–∞—Ç—å, –±—ã–ª –ª–∏ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω –∞–≤–∞–Ω—Å?**
–û: –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–≤–∞–Ω—Å—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å –∏–∫–æ–Ω–∫–æ–π üîí –∏ –∫—Ä–∞—Å–Ω—ã–º —Ü–≤–µ—Ç–æ–º.

**–í: –ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –æ—à–∏–±–æ—á–Ω–æ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å—É–º–º—É?**
–û: –ù–∞–∂–º–∏—Ç–µ "–û—Ç–º–µ–Ω–∏—Ç—å —Ñ–∏–∫—Å–∞—Ü–∏—é", —É–∫–∞–∂–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–û—à–∏–±–∫–∞ –≤ —Ä–∞—Å—á–µ—Ç–µ"), –∑–∞—Ç–µ–º –ø–µ—Ä–µ—Å—á–∏—Ç–∞–π—Ç–µ –∏ –∑–∞—Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ.

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:
- `POST /calculate-advance` - —Ä–∞—Å—á–µ—Ç –∞–≤–∞–Ω—Å–∞ (—É—á–∏—Ç—ã–≤–∞–µ—Ç –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ)
- `POST /fix-advance-payment` - —Ñ–∏–∫—Å–∞—Ü–∏—è –≤—ã–ø–ª–∞—Ç—ã –∞–≤–∞–Ω—Å–∞
- `POST /cancel-advance-payment` - –æ—Ç–º–µ–Ω–∞ —Ñ–∏–∫—Å–∞—Ü–∏–∏
- `POST /calculate-final-payroll` - –∏—Ç–æ–≥–æ–≤—ã–π —Ä–∞—Å—á–µ—Ç (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–≤–∞–Ω—Å—ã)

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ:
1. **server.cjs**: –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –∏ –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å —Ç–∞–±–ª–∏—Ü–µ–π payroll_payments
2. **payroll.js**: –î–æ–±–∞–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ fixAdvancePayment() –∏ cancelAdvancePayment()
3. **payroll.html**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ —Ñ–∏–∫—Å–∞—Ü–∏–∏ –∞–≤–∞–Ω—Å–∞
4. **–ë–î**: –ù–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ payroll_payments –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≤—ã–ø–ª–∞—Ç
