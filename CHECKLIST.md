# ‚úÖ –ß–ï–ö–õ–ò–°–¢: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–∫–ª–∞–¥–∫–∏ "–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞—Å—á–µ—Ç–æ–≤"

## üì¶ –§–∞–π–ª—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã:
- [x] `sql-migrations/001_add_curator_role.sql` - SQL –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ä–æ–ª–∏
- [x] `new-endpoints-details.js` - –ö–æ–¥ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –¥–ª—è server.cjs
- [x] `details-tab-html.html` - HTML –∫–æ–¥ –¥–ª—è payroll.html
- [x] `details-tab-js.js` - JavaScript –¥–ª—è payroll.js
- [x] `INSTRUCTIONS_STEP_BY_STEP.md` - –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

---

## ‚ö° –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢ (30 –º–∏–Ω—É—Ç)

### [ ] 1. Supabase (5 –º–∏–Ω)
```sql
-- –í SQL Editor –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
-- 1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–¥ –∏–∑ sql-migrations/001_add_curator_role.sql
-- 2. –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∫—É—Ä–∞—Ç–æ—Ä–∞ (–∑–∞–º–µ–Ω–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ):
INSERT INTO employees (id, fullname, role, password, active)
VALUES ('CUR001', '–¢–µ—Å—Ç–æ–≤—ã–π –ö—É—Ä–∞—Ç–æ—Ä', 'curator', 'test123', true);
```

### [ ] 2. server.cjs (10 –º–∏–Ω)
```javascript
// –ù–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É: const canManageFot = checkRole(['admin']);
// –ü–û–°–õ–ï –Ω–µ—ë –¥–æ–±–∞–≤—å—Ç–µ:
const canViewDetails = checkRole(['admin', 'accountant', 'curator']);

// –ó–∞—Ç–µ–º —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –í–°–ï 3 —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ –∏–∑ new-endpoints-details.js
// –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –ü–ï–†–ï–î app.listen
```

### [ ] 3. payroll.html (5 –º–∏–Ω)
```html
<!-- –í .tab-navigation –¥–æ–±–∞–≤—å—Ç–µ –∫–Ω–æ–ø–∫—É: -->
<button class="tab-button" id="details-tab-button" 
        onclick="switchTab('details', this)" 
        style="display: none;">
    üìä –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞—Å—á–µ—Ç–æ–≤
</button>

<!-- –í –∫–æ–Ω–µ—Ü .content —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –í–°–Å –∏–∑ details-tab-html.html -->
```

### [ ] 4. payroll.js (10 –º–∏–Ω)
```javascript
// –í –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –í–°–Å –∏–∑ details-tab-js.js

// –í —Ñ—É–Ω–∫—Ü–∏–∏ verifyAuthentication() –ø–æ—Å–ª–µ –±–ª–æ–∫–∞ —Å cardLimitsTabButton:
const detailsTabButton = document.getElementById('details-tab-button');
if (detailsTabButton) {
    const canViewDetails = isAdmin || isAccountant || data.user.role === 'curator';
    detailsTabButton.style.display = canViewDetails ? 'block' : 'none';
}

// –î–ª—è –∫—É—Ä–∞—Ç–æ—Ä–æ–≤ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –¢–û–õ–¨–ö–û –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—é:
if (data.user.role === 'curator') {
    document.querySelectorAll('.tab-button').forEach(btn => {
        if (btn.id !== 'details-tab-button') btn.style.display = 'none';
    });
    setTimeout(() => switchTab('details', detailsTabButton), 100);
}
```

---

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï (5 –º–∏–Ω)

### [ ] –¢–µ—Å—Ç 1: –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
```bash
node server.cjs
# –û–∂–∏–¥–∞–µ–º: Server is running on http://0.0.0.0:3000
```

### [ ] –¢–µ—Å—Ç 2: –í—Ö–æ–¥ –ø–æ–¥ –∫—É—Ä–∞—Ç–æ—Ä–æ–º
- URL: http://localhost:3000
- –õ–æ–≥–∏–Ω: **–¢–µ—Å—Ç–æ–≤—ã–π –ö—É—Ä–∞—Ç–æ—Ä**
- –ü–∞—Ä–æ–ª—å: **test123**
- ‚úÖ –í–∏–¥–Ω–∞ –¢–û–õ–¨–ö–û –≤–∫–ª–∞–¥–∫–∞ "–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞—Å—á–µ—Ç–æ–≤"

### [ ] –¢–µ—Å—Ç 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏
1. –í—ã–±–µ—Ä–∏—Ç–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
2. –í—ã–±–µ—Ä–∏—Ç–µ –º–µ—Å—è—Ü/–≥–æ–¥
3. –ù–∞–∂–º–∏—Ç–µ "–ü–æ–∫–∞–∑–∞—Ç—å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—é"
4. ‚úÖ –ü–æ—è–≤–∏–ª–∞—Å—å —Ç–∞–±–ª–∏—Ü–∞ —Å —Ä–∞—Å—á–µ—Ç–∞–º–∏

### [ ] –¢–µ—Å—Ç 4: –≠–∫—Å–ø–æ—Ä—Ç Excel
1. –ù–∞–∂–º–∏—Ç–µ "–≠–∫—Å–ø–æ—Ä—Ç –≤ Excel"
2. ‚úÖ –°–∫–∞—á–∞–ª—Å—è —Ñ–∞–π–ª .xlsx

### [ ] –¢–µ—Å—Ç 5: –ü—Ä–∞–≤–∞ –±—É—Ö–≥–∞–ª—Ç–µ—Ä–∞/–∞–¥–º–∏–Ω–∞
1. –í—ã–π–¥–∏—Ç–µ
2. –í–æ–π–¥–∏—Ç–µ –ø–æ–¥ –±—É—Ö–≥–∞–ª—Ç–µ—Ä–æ–º/–∞–¥–º–∏–Ω–æ–º
3. ‚úÖ –í–∏–¥–Ω—ã –í–°–ï –≤–∫–ª–∞–¥–∫–∏

---

## üöÄ –î–ï–ü–õ–û–ô (5 –º–∏–Ω)

### [ ] 1. –ö–æ–º–º–∏—Ç
```bash
git add .
git commit -m "feat: –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞—Å—á–µ—Ç–æ–≤ –¥–ª—è –∫—É—Ä–∞—Ç–æ—Ä–æ–≤"
```

### [ ] 2. –î–µ–ø–ª–æ–π
```bash
fly deploy
```

### [ ] 3. –°–æ–∑–¥–∞—Ç—å –∫—É—Ä–∞—Ç–æ—Ä–∞ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
```sql
-- –í Supabase Production:
INSERT INTO employees (id, fullname, role, password, active)
VALUES ('CUR001', '–ò–º—è –†–µ–∞–ª—å–Ω–æ–≥–æ –ö—É—Ä–∞—Ç–æ—Ä–∞', 'curator', '–±–µ–∑–æ–ø–∞—Å–Ω—ã–π_–ø–∞—Ä–æ–ª—å', true);
```

### [ ] 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—Ä–æ–¥–µ
- URL: https://shifts-api.fly.dev
- –õ–æ–≥–∏–Ω: –∏–º—è –∫—É—Ä–∞—Ç–æ—Ä–∞
- ‚úÖ –í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üêõ TROUBLESHOOTING

### –ü—Ä–æ–±–ª–µ–º–∞: "404 Not Found" –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –¥–æ–±–∞–≤–∏–ª–∏ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –≤ server.cjs –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏–ª–∏ —Å–µ—Ä–≤–µ—Ä

### –ü—Ä–æ–±–ª–µ–º–∞: –í–∫–ª–∞–¥–∫–∞ –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ:** 
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –¥–æ–±–∞–≤–∏–ª–∏ –∫–Ω–æ–ø–∫—É –≤ HTML
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–æ—Å—Ç—É–ø–∞ –≤ verifyAuthentication()
3. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å (F12) –Ω–∞ –æ—à–∏–±–∫–∏

### –ü—Ä–æ–±–ª–µ–º–∞: "–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö"
**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –µ—Å—Ç—å —Ä–∞—Å—á–µ—Ç—ã –≤ —Ç–∞–±–ª–∏—Ü–µ payroll_calculations –∑–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥

### –ü—Ä–æ–±–ª–µ–º–∞: –ö—É—Ä–∞—Ç–æ—Ä –Ω–µ –º–æ–∂–µ—Ç –≤–æ–π—Ç–∏
**–†–µ—à–µ–Ω–∏–µ:** 
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Å–æ–∑–¥–∞–ª–∏ –∫—É—Ä–∞—Ç–æ—Ä–∞ –≤ –ë–î
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å (—Ä–µ–≥–∏—Å—Ç—Ä–æ–∑–∞–≤–∏—Å–∏–º–æ!)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ active = true

---

## üìä –ò–¢–û–ì–û–í–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤:

‚úÖ **–ö—É—Ä–∞—Ç–æ—Ä—ã** - –≤–∏–¥—è—Ç –¢–û–õ–¨–ö–û –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—é
‚úÖ **–ë—É—Ö–≥–∞–ª—Ç–µ—Ä—ã** - –≤–∏–¥—è—Ç –≤—Å—ë + –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—é  
‚úÖ **–ê–¥–º–∏–Ω—ã** - –≤–∏–¥—è—Ç –≤—Å—ë + –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—é
‚úÖ **–ü—Ä–æ–¥–∞–≤—Ü—ã** - –Ω–∏—á–µ–≥–æ –Ω–µ –≤–∏–¥—è—Ç (–∫–∞–∫ –∏ —Ä–∞–Ω—å—à–µ)

---

## üéØ –í–†–ï–ú–Ø –í–´–ü–û–õ–ù–ï–ù–ò–Ø

- –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞: **5 –º–∏–Ω**
- –ö–æ–¥: **30 –º–∏–Ω**
- –¢–µ—Å—Ç—ã: **5 –º–∏–Ω**
- –î–µ–ø–ª–æ–π: **5 –º–∏–Ω**
- **–ò–¢–û–ì–û: ~45 –º–∏–Ω—É—Ç**

---

## üìû –í–û–ü–†–û–°–´?

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
3. –°–≤–µ—Ä—å—Ç–µ—Å—å —Å INSTRUCTIONS_STEP_BY_STEP.md
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—Å–µ —Ñ–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã

**–ì–æ—Ç–æ–≤ –ø–æ–º–æ—á—å –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ! üöÄ**
